#!/usr/bin/env python
# -*- coding:utf-8 -*-

from glob import glob
from regparser import regparser


files_list = glob('regs_32/*.reg')
#files_list = ['37.reg',]

reg_text = """
Windows Registry Editor Version 5.00

[HKEY_CURRENT_USER\test]
"test1"="qwerty"
"test2"=hex:09,39,40,30,43,48,94,89,32,49,34,32,40,23,04,32,04,03,24,44,42,33,\
  33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,\
  33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33
"test3"=dword:54354543
"test4"=hex(b):43,ff,05,49,50,49,00,00
"test5"=hex(7):67,00,68,00,67,00,66,00,68,00,67,00,66,00,68,00,6c,00,67,00,3b,\
  00,68,00,6c,00,67,00,3b,00,68,00,6c,00,20,00,67,00,68,00,00,00,67,00,66,00,\
  68,00,6c,00,3b,00,67,00,66,00,68,00,3b,00,6c,00,3b,00,67,00,66,00,00,00,6c,\
  00,3b,00,67,00,68,00,6c,00,3b,00,68,00,6c,00,68,00,6c,00,68,00,6c,00,68,00,\
  6c,00,68,00,6c,00,68,00,6c,00,68,00,6c,00,68,00,6c,00,68,00,6c,00,67,00,5c,\
  00,66,00,68,00,6c,00,3b,00,00,00,67,00,6c,00,3b,00,66,00,68,00,6c,00,3b,00,\
  66,00,67,00,00,00,00,00
"test6"=hex(2):71,00,77,00,65,00,72,00,74,00,79,00,20,00,00,00
"""

reg = regparser()
#reg.read_string(reg_text)
reg.read_files_list(files_list)

#print('[Registry]')
reg.innosetup() # печать ключей реестра в формате  InnoSetup
